{"paragraphs":[{"text":"%md\n## Generate Transactions for the Sample Blockchain Insurance App\n","user":"anonymous","dateUpdated":"2019-08-25T22:29:12+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>Generate Transactions for the Sample Blockchain Insurance App</h2>\n</div>"}]},"apps":[],"jobName":"paragraph_1566772152656_584583","id":"20190710-223021_2063226423","dateCreated":"2019-08-25T22:29:12+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:304"},{"text":"%sh\necho Identifying the private key used to connect to the Blockchain app and setting in the properties file\n\nsed -i \"s#USER_KEY=.*#USER_KEY=/certs/shop-org/users/Admin@shop-org/msp/keystore/$(ls '/certs/shop-org/users/Admin@shop-org/msp/keystore')#\" /opt/zeppelin/notebook/insurance.properties \necho \"--> $(grep USER_KEY /opt/zeppelin/notebook/insurance.properties)\"\n\necho\necho Loading the local Blockchain insurance app with some demo data\necho\n\njava -cp /opt/zeppelin/notebook/fabric-datagen-dependencies-1.0-DATAGEN.jar com.ibm.federation.datagen.GenerateTransactions --config-file=/opt/zeppelin/notebook/insurance.properties --datagen-type=insurance --flows=25 --attempts=100 --channel-name=default --chaincode-name=bcins seed-concurrent --threads=2","user":"anonymous","dateUpdated":"2019-08-25T22:29:50+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false,"completionKey":"TAB"},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1566772152671_-1736145492","id":"20190604-131232_1972579531","dateCreated":"2019-08-25T22:29:12+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:305"},{"text":"%md\n## Basic Exploration of Transactions ","user":"anonymous","dateUpdated":"2019-08-25T22:29:12+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>Basic Exploration of Transactions</h2>\n</div>"}]},"apps":[],"jobName":"paragraph_1566772152671_-1751282409","id":"20190710-223123_1809342840","dateCreated":"2019-08-25T22:29:12+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:306"},{"text":"%jdbc\nselect * from nn_tx;","user":"anonymous","dateUpdated":"2019-08-25T22:29:12+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"ID":"string","BLOCK_ORDINAL":"string","ORDINAL":"string","CHANNEL_ID":"string","CREATION_TIME":"string","CREATOR_MSPID":"string","CREATOR_CERT":"string","IS_VALID":"string","VALIDATION_CODE":"string","IS_TRANSACTION":"string","SIGNATURE":"string","CHAINCODE_ID":"string","ENDORSEMENT_COUNT":"string","ARGS_COUNT":"string","ARG_0":"string","ARG_1":"string","ARG_2":"string","ARG_3":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1566772152672_-615564610","id":"20190710-170452_1772597194","dateCreated":"2019-08-25T22:29:12+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:307"},{"text":"%md\n\n## Dig Deeper into the Business Data and Query Specific Columns\n\nExample of a JSON Payload with Business Details\n\n```\n{\n   “contract_type_uuid\":\"17d773dc-2624-4c22-a478-87544dd0a17f\",\n   \"username\":\"colin-bell-94@yahoo.com\",\n   \"password\":\"\",\n   \"first_name\":\"Colin\",\n   \"last_name\":\"Bell\",\n   \"item\":{\n      \"id\":1,\n      \"brand\":\"Apple\",\n      \"model\":\"6\",\n      \"price\":630,\n      \"serial_no\":\"ZE5YYL\"\n   },\n   \"start_date\":\"2018-12-11T19:54:29.168Z\",\n   \"end_date\":\"2018-12-23T01:40:20.736Z\",\n   \"uuid\":\"3163b36c-0629-4974-bfbd-bdcb09f90a26\"\n}\n```\n\nThe creation date is displayed under CREATION_TIME, the chaincode methods are displayed in ARG_0, and the business data is displayed in ARG_1.","user":"anonymous","dateUpdated":"2019-08-25T22:29:12+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>Dig Deeper into the Business Data and Query Specific Columns</h2>\n<p>Example of a JSON Payload with Business Details</p>\n<pre><code>{\n   “contract_type_uuid&quot;:&quot;17d773dc-2624-4c22-a478-87544dd0a17f&quot;,\n   &quot;username&quot;:&quot;colin-bell-94@yahoo.com&quot;,\n   &quot;password&quot;:&quot;&quot;,\n   &quot;first_name&quot;:&quot;Colin&quot;,\n   &quot;last_name&quot;:&quot;Bell&quot;,\n   &quot;item&quot;:{\n      &quot;id&quot;:1,\n      &quot;brand&quot;:&quot;Apple&quot;,\n      &quot;model&quot;:&quot;6&quot;,\n      &quot;price&quot;:630,\n      &quot;serial_no&quot;:&quot;ZE5YYL&quot;\n   },\n   &quot;start_date&quot;:&quot;2018-12-11T19:54:29.168Z&quot;,\n   &quot;end_date&quot;:&quot;2018-12-23T01:40:20.736Z&quot;,\n   &quot;uuid&quot;:&quot;3163b36c-0629-4974-bfbd-bdcb09f90a26&quot;\n}\n</code></pre>\n<p>The creation date is displayed under CREATION_TIME, the chaincode methods are displayed in ARG_0, and the business data is displayed in ARG_1.</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1566772152674_-1961055606","id":"20190710-223325_454913340","dateCreated":"2019-08-25T22:29:12+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:308"},{"text":"%jdbc\nselect CREATION_TIME,ARG_0,ARG_1 from nn_tx;","user":"anonymous","dateUpdated":"2019-08-25T22:29:12+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"CREATION_TIME":"string","ARG_0":"string","ARG_1":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1566772152675_-752824092","id":"20190710-174419_1937890796","dateCreated":"2019-08-25T22:29:12+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:309"},{"text":"%md\n\n## Insurance Sales Reporting\n\nWhich product is performing the best? This query shows the number of policies sold for each product.\n","user":"anonymous","dateUpdated":"2019-08-25T22:29:12+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>Insurance Sales Reporting</h2>\n<p>Which product is performing the best? This query shows the number of policies sold for each product.</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1566772152676_338125512","id":"20190710-223606_754914253","dateCreated":"2019-08-25T22:29:12+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:310"},{"text":"%jdbc\n\nWith T1 as \n(Select JSON_VAL(SYSTOOLS.JSON2BSON(TX.ARG_1), 'item.brand', 's:10' ) as PRODUCT, Count (JSON_VAL(SYSTOOLS.JSON2BSON(TX.ARG_1), 'item.brand', 's:10' )) as PRODUCT_SOLD\nfrom NN_TX as TX \nwhere ARG_0 = 'contract_create'\nGROUP BY JSON_VAL(SYSTOOLS.JSON2BSON(TX.ARG_1), 'item.brand', 's:10' )),\nT2 as \n(Select JSON_VAL(SYSTOOLS.JSON2BSON(TX.ARG_1), 'item.brand', 's:10' ) as PRODUCT, Count (JSON_VAL(SYSTOOLS.JSON2BSON(TX.ARG_1), 'item.brand', 's:10' )) as POLICY_SOLD\nfrom NN_TX as TX \nwhere ARG_0 = 'contract_create'\nAND YEAR(JSON_VAL(SYSTOOLS.JSON2BSON(TX.ARG_1), 'start_date','d')) > 2017\nGROUP BY JSON_VAL(SYSTOOLS.JSON2BSON(TX.ARG_1), 'item.brand', 's:10' ))\nSelect T1.PRODUCT, PRODUCT_SOLD, POLICY_SOLD from T1 inner join T2 on T1.PRODUCT=T2.PRODUCT;","user":"anonymous","dateUpdated":"2019-08-25T22:29:16+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"results":{"0":{"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"PRODUCT":"string","PRODUCT_SOLD":"string","POLICY_SOLD":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"}},"commonSetting":{},"keys":[{"name":"PRODUCT","index":0,"aggr":"sum"}],"groups":[],"values":[{"name":"PRODUCT_SOLD","index":1,"aggr":"sum"}]},"helium":{}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1566772152677_1593165991","id":"20190710-175915_1845876810","dateCreated":"2019-08-25T22:29:12+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:311"},{"text":"%md\n\n## Insurance Claim Analysis\n\nWe can see if the claim is a theft or a repair as well as the claim description.","user":"anonymous","dateUpdated":"2019-08-25T22:29:12+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>Insurance Claim Analysis</h2>\n<p>We can see if the claim is a theft or a repair as well as the claim description.</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1566772152677_-1610947182","id":"20190710-223729_1763115019","dateCreated":"2019-08-25T22:29:12+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:312"},{"text":"%jdbc\nSELECT\n    ROW_NUMBER() OVER() AS CLAIM_SEQUENCE,\n    TX.CREATION_TIME AS CLAIM_REGISTERED,\n\tJSON_VAL(SYSTOOLS.JSON2BSON(TX.ARG_1), 'is_theft', 's:10' ) AS CLAIM_REASON_THEFT,\n\tJSON_VAL(SYSTOOLS.JSON2BSON(TX.ARG_1), 'description', 's:36' ) AS CLAIM_DESCRIPTION\nFROM\nNN_TX AS TX\nWHERE\n    TX.ARG_0 = 'claim_file';","user":"anonymous","dateUpdated":"2019-08-25T22:29:12+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"CLAIM_SEQUENCE":"string","CLAIM_REGISTERED":"string","CLAIM_REASON_THEFT":"string","CLAIM_DESCRIPTION":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1566772152678_-410303936","id":"20190710-180325_597846835","dateCreated":"2019-08-25T22:29:12+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:313"},{"text":"%md\n\n## Insurance Risk Analysis\n\nWho are the people who filed fraud claims? This query will find users who may have filed a fraud claim.\n","user":"anonymous","dateUpdated":"2019-08-25T22:29:12+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>Insurance Risk Analysis</h2>\n<p>Who are the people who filed fraud claims? This query will find users who may have filed a fraud claim.</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1566772152678_-1523922381","id":"20190710-223831_780509147","dateCreated":"2019-08-25T22:29:12+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:314"},{"text":"%jdbc\n--who are the people who filed fraud claims?\nSelect  JSON_VAL(SYSTOOLS.JSON2BSON(TX.ARG_1), 'username', 's:36') as USERNAME,\n        JSON_VAL(SYSTOOLS.JSON2BSON(TX.ARG_1), 'uuid', 's:36') as CONTRACT_ID\n    FROM\n        NN_TX as TX \n    WHERE \n        TX.ARG_0='contract_create'\n        AND\n        JSON_VAL(SYSTOOLS.JSON2BSON(TX.ARG_1), 'uuid', 's:36') IN\n            (select\n                JSON_VAL(SYSTOOLS.JSON2BSON(TX1.ARG_1), 'contract_uuid', 's:50')\n                from NN_TX as TX1\n                WHERE\n                    TX1.ARG_0 = 'theft_claim_process'\n                    AND \n                    JSON_VAL(SYSTOOLS.JSON2BSON(TX1.ARG_1), 'is_theft', 's:10') <> 'true'\n                    );","user":"anonymous","dateUpdated":"2019-08-25T22:29:12+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"USERNAME":"string","CONTRACT_ID":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1566772152679_1887294875","id":"20190710-180327_2048913370","dateCreated":"2019-08-25T22:29:12+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:315"}],"name":"IBM Db2 Blockchain Connector","id":"2ENN4TR3C","noteParams":{},"noteForms":{},"angularObjects":{},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}